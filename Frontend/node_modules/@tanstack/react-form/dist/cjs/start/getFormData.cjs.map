{"version":3,"file":"getFormData.cjs","sources":["../../../src/start/getFormData.tsx"],"sourcesContent":["import { _tanstackInternalsCookie } from './utils'\nimport type { FetchFnCtx } from '@tanstack/start'\nimport type { ServerFormState } from './types'\n\nexport const initialFormState = {\n  errorMap: {\n    onServer: undefined,\n  },\n  errors: [],\n}\n\nexport const getFormData = async (ctx: FetchFnCtx) => {\n  const data = (await _tanstackInternalsCookie.parse(\n    ctx.request.headers.get('Cookie'),\n  )) as undefined | ServerFormState<any>\n  // Delete the cookie before it hits the client againÂ¸\n  ctx.request.headers.delete('Cookie')\n  if (!data) return initialFormState\n  return data\n}\n"],"names":["_tanstackInternalsCookie"],"mappings":";;;AAIO,MAAM,mBAAmB;AAAA,EAC9B,UAAU;AAAA,IACR,UAAU;AAAA,EACZ;AAAA,EACA,QAAQ,CAAC;AACX;AAEa,MAAA,cAAc,OAAO,QAAoB;AAC9C,QAAA,OAAQ,MAAMA,MAAAA,yBAAyB;AAAA,IAC3C,IAAI,QAAQ,QAAQ,IAAI,QAAQ;AAAA,EAAA;AAG9B,MAAA,QAAQ,QAAQ,OAAO,QAAQ;AAC/B,MAAA,CAAC,KAAa,QAAA;AACX,SAAA;AACT;;;"}